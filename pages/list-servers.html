<div data-role="page">
    <header data-role="header" data-theme="a" data-position="fixed">       	
        <div data-role="navbar">
            <ul>
                <li><a href="#" data-icon="bars" class="ui-btn-active">Servidores</a></li>
                <li><a href="#" data-icon="search">Escanear Qr</a></li>
            </ul>
        </div><!-- /navbar -->
    </header>
    <div data-role="content" id="contenido">
        <ul data-role="listview" data-filter="true" data-theme="c" data-filter-reveal="true" id="input-search" data-filter-placeholder="Buscar servidor...">
    		<!--Listado de Servidores-->
        </ul>
        <a href="#" data-role="button" id="scan">SCAN QR</a>
        <label id="qr_label"></label>
    </div>
    <script type="text/javascript">
        //app.initialize();
        document.addEventListener("deviceready",onDeviceReady,false);
        function onDeviceReady() {
            document.getElementById('scan').addEventListener('click', this.scan, false);
        }
        function scan() {
            console.log('scanning');
            
            var scanner = cordova.require("cordova/plugin/BarcodeScanner");

            scanner.scan( function (result) {

                alert("We got a barcode\n" + 
                "Result: " + result.text + "\n" + 
                "Format: " + result.format + "\n" + 
                "Cancelled: " + result.cancelled);

               console.log("Scanner result: \n" +
                    "text: " + result.text + "\n" +
                    "format: " + result.format + "\n" +
                    "cancelled: " + result.cancelled + "\n");
                document.getElementById("info").innerHTML = result.text;
                console.log(result);
                /*
                if (args.format == "QR_CODE") {
                    window.plugins.childBrowser.showWebPage(args.text, { showLocationBar: false });
                }
                */
            }, function (error) { 
                console.log("Scanning failed: ", error); 
            } );
        }
    </script>
</div>